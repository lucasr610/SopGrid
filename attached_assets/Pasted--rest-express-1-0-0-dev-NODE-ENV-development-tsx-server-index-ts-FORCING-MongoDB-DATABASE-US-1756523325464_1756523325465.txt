
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

ğŸ”§ FORCING MongoDB DATABASE USAGE
ğŸ”— Enhanced Evidence Ledger initialized with blockchain integrity
ğŸ“ AR Training System initialized with 4 core modules
ğŸŒ Multi-jurisdiction support initialized with 4 jurisdictions
ğŸ” RBAC Security initialized with 5 role levels
ğŸ”§ Ollama configured for YOUR LOCAL MODELS:
   ğŸ“¦ Small (7B):  mistral:7b
   ğŸ“¦ Large (14B): llama2:14b
   ğŸŒ Base URL:    http://localhost:11434
âš¡ To use your models, make sure Ollama is running with your specific models!
â˜ï¸ AI Router: CLOUD MODE - Using OpenAI, Gemini, Anthropic as primary processors
ğŸš€ UNIFIED SOPGRID: Initializing complete system integration...
ğŸ—„ï¸ PostgreSQL: Connected and ready for unified operations
ğŸ” CREDENTIALS: LLM API keys loaded successfully
ğŸ”— STORAGE: Connecting to all storage systems...
ğŸƒ MongoDB: Connected for document storage
ğŸ” Qdrant: Connected for vector search
ğŸ¤– AGENTS: Initializing specialized agent network...
âš¡ Fast startup mode enabled
ğŸ”§ Configuration: COMPLIANCE_STRICT=false, NLI_REQUIRED=false
ğŸ›¡ï¸ Applying Safety & Logic validation to critical endpoints
ğŸ” Applying role-based access control to sensitive routes
ğŸš€ UNIFIED SOPGRID: Initializing complete system integration...
âœ… UNIFIED SOPGRID: All agents and storage systems integrated
ğŸ¤– Agents: 0 | Storage: PostgreSQL=true
ğŸ”§ Starting Enhanced OS Agent for autonomous system management...
ğŸ‘ï¸ Eyes system registered rotor: rotor-sop_generation-1756522981749-f8n2mxou6
ğŸ†• New rotor spawned: rotor-sop_generation-1756522981749-f8n2mxou6 with AI services: openai, gemini
ğŸ‘ï¸ Eyes system registered rotor: rotor-compliance_check-1756522981750-xjz7tk8v2
ğŸ†• New rotor spawned: rotor-compliance_check-1756522981750-xjz7tk8v2 with AI services: anthropic, gemini
ğŸ‘ï¸ Eyes system registered rotor: rotor-document_analysis-1756522981750-098jlrxpf
ğŸ†• New rotor spawned: rotor-document_analysis-1756522981750-098jlrxpf with AI services: openai, gemini, anthropic
ğŸ‘ï¸ Eyes system registered rotor: rotor-troubleshooting-1756522981750-j5trf4289
ğŸ†• New rotor spawned: rotor-troubleshooting-1756522981750-j5trf4289 with AI services: openai, gemini
âš¡ Mesh Rotor System initialized with 4 base rotors (fast startup)
ğŸ—„ï¸ OS Agent: Database connection ready for memory offloading
ğŸ¤– Enhanced OS Agent initialized - Monitoring disabled
ğŸ¤– Enhanced OS Agent activated - Autonomous system resource management enabled
ğŸ“š Loading manufacturer manual knowledge into validators...
ğŸ“š Loading manual knowledge into validators...
  Adding sequence: bearing_repack
  Adding torque spec: Castle nut initial = 50 ft-lbs
  Adding torque spec: Castle nut final = 10-15 in-lbs
  Adding torque spec: Lug nuts = 90-120 ft-lbs
  Adding torque spec: U-bolts = 65-85 ft-lbs
  Adding sequence: brake_adjustment
  Adding torque spec: Brake mounting bolts = 20-25 ft-lbs
  Adding sequence: wet_bolt_replacement
  Adding torque spec: Wet bolt nut = 40-50 ft-lbs
  Adding sequence: filter_cleaning
âœ… Manual knowledge loaded into validators
âœ… Manual knowledge loaded - Lippert, Dometic, and other manufacturer specs ready
ğŸ“š Document processing available on-demand
âœ… Background: Document processing will occur on-demand only
ğŸš€ Auto-SOP Generator initialized with bulk processing
ğŸ¤– Auto-SOP Generator initialized with bulk processing and revision monitoring
âš–ï¸ Agent Load Balancer initialized with adaptive strategies
ğŸ¤– Technician LLM Chat Interface activated at /api/technician
3:03:01 AM [express] serving on port 5000
Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
âœ… MongoDB connected successfully
ğŸ—„ï¸ MongoDB storage activated - FORCED
ğŸš¨ Failed to register agents in database: TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'instance' -> object with constructor 'UnifiedSystemOrchestrator'
    |     property 'agents' -> object with constructor 'Object'
    |     property 'rotor' -> object with constructor 'Object'
    --- property 'config' closes the circle
    at JSON.stringify (<anonymous>)
    at PgJsonb.mapToDriverValue (/home/runner/workspace/node_modules/src/pg-core/columns/jsonb.ts:43:15)
    at <anonymous> (/home/runner/workspace/node_modules/src/sql/sql.ts:223:69)
    at Array.map (<anonymous>)
    at SQL.buildQueryFromSourceParams (/home/runner/workspace/node_modules/src/sql/sql.ts:148:30)
    at <anonymous> (/home/runner/workspace/node_modules/src/sql/sql.ts:170:17)
    at Array.map (<anonymous>)
    at SQL.buildQueryFromSourceParams (/home/runner/workspace/node_modules/src/sql/sql.ts:148:30)
    at <anonymous> (/home/runner/workspace/node_modules/src/sql/sql.ts:174:17)
    at Array.map (<anonymous>)
    at SQL.buildQueryFromSourceParams (/home/runner/workspace/node_modules/src/sql/sql.ts:148:30)
    at <anonymous> (/home/runner/workspace/node_modules/src/sql/sql.ts:124:23)
    at Object.startActiveSpan (/home/runner/workspace/node_modules/src/tracing.ts:27:11)
    at SQL.toQuery (/home/runner/workspace/node_modules/src/sql/sql.ts:123:17)
    at PgDialect.sqlToQuery (/home/runner/workspace/node_modules/src/pg-core/dialect.ts:591:14)
    at <anonymous> (/home/runner/workspace/node_modules/src/pg-core/query-builders/insert.ts:405:19)
    at Object.startActiveSpan (/home/runner/workspace/node_modules/src/tracing.ts:27:11)
    at QueryPromise._prepare (/home/runner/workspace/node_modules/src/pg-core/query-builders/insert.ts:400:17)
    at <anonymous> (/home/runner/workspace/node_modules/src/pg-core/query-builders/insert.ts:422:16)
    at Object.startActiveSpan (/home/runner/workspace/node_modules/src/tracing.ts:27:11)
    at QueryPromise.execute (/home/runner/workspace/node_modules/src/pg-core/query-builders/insert.ts:421:17)
    at QueryPromise.then (/home/runner/workspace/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
âœ… AGENTS: All specialized agents initialized and coordinated
ğŸ‘€ MONITORING: Intelligent monitoring - only on-demand to prevent database bloat
âœ… UNIFIED SOPGRID: System fully integrated and operational
3:03:05 AM [express] GET /api/auth/user 304 in 1ms :: {"id":"1756341735989","username":"Lucas.Reynolâ€¦
3:04:26 AM [express] GET /api/credentials 200 in 323ms :: [{"id":"1","name":"OpenAI API Key","type":â€¦
3:06:24 AM [express] GET /api/auth/user 304 in 1ms :: {"id":"1756341735989","username":"Lucas.Reynolâ€¦
ğŸ’¬ Chat request from 1756341735989 (super_admin): replace 12V ceiling light
ğŸ“ With 0 attachments
ğŸ¤– Technician LLM detected intent: {
  type: 'knowledge_query',
  entities: {
    equipment: 'ceiling light',
    manufacturer: '',
    model: '12V',
    action: 'replace'
  }
}
ğŸ” Searching for: "replace 12V ceiling light" in namespace: 5
âœ… Found 0 vector search results
ğŸ’¬ Chat interaction logged: {
  action: 'chat_interaction',
  userId: '1756341735989',
  role: 'super_admin',
  message: 'replace 12V ceiling light...',
  timestamp: 2025-08-30T03:07:08.756Z
}
3:07:08 AM [express] POST /api/technician/chat 200 in 1557ms :: {"message":"I don't have specific inâ€¦
ğŸ’¬ Chat request from 1756341735989 (super_admin): lippert electric motor repalcment 
ğŸ“ With 0 attachments
ğŸ¤– Technician LLM detected intent: {
  type: 'knowledge_query',
  entities: {
    equipment: 'electric motor',
    manufacturer: 'Lippert',
    model: '',
    action: 'replacement'
  }
}
ğŸ” Searching for: "lippert electric motor repalcment " in namespace: 5
âœ… Found 0 vector search results
ğŸ’¬ Chat interaction logged: {
  action: 'chat_interaction',
  userId: '1756341735989',
  role: 'super_admin',
  message: 'lippert electric motor repalcment ...',
  timestamp: 2025-08-30T03:07:58.695Z
}
3:07:58 AM [express] POST /api/technician/chat 200 in 2720ms :: {"message":"I don't have specific inâ€¦
ğŸ“š Processing 0 ingested documents for auto-SOP generation
